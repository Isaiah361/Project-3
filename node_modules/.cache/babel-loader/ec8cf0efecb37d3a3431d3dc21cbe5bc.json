{"ast":null,"code":"import _defineProperty from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/isaiah/Desktop/IRON/client/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport UserService from '../service/UserService';\nimport { Link } from 'react-router-dom';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      usernameInput: '',\n      passwordInput: ''\n    };\n    _this.userService = new UserService();\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleFormSubmit = function (e) {\n      e.preventDefault(); // you could just do axios.post('http://localhost:5000/api/signup, {username: this.state.userNameInput, password: this.state.passWordInput}, {withCredentials: true})\n\n      _this.userService.login(_this.state.usernameInput, _this.state.passwordInput).then(function (userFromDB) {\n        // here we wait for the API to give us the user object back after logging in\n        _this.setState({\n          usernameInput: '',\n          passwordInput: ''\n        });\n\n        console.log(userFromDB); // then we pass that user object back to app component\n\n        _this.props.logTheUserIntoAppComponent(userFromDB); // here, we are getting the user object from the DB\n        // and we're setting AppComponent.state.loggedinuser equal to it\n        //this.props.history.push('/project-index');\n        // then we redirect\n\n      }).catch(function (err) {\n        console.log('sorry something went wrong', err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"ui form\",\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"usernameInput\",\n        value: this.state.usernameInput,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"passwordInput\",\n        value: this.state.passwordInput,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"ui form success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"ui button\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Login\"))));\n    }\n  }]);\n\n  return Login;\n}(Component); // const Login = () => {\n//     return(\n//   <form className=\"ui form\" onSubmit={this.handleFormSubmit}>\n//   <div className=\"field\">\n//     <label>Username</label>\n//     <input type=\"text\" name=\"usernameInput\" value={this.state.usernameInput} onChange={ e => this.handleChange(e)}/>\n//   </div>\n//   <div className=\"field\"> \n//     <label>Password</label>\n//     <input type=\"password\" name=\"passwordInput\" value={this.state.passwordInput} onChange={ e => this.handleChange(e)}/>\n//   </div>\n//   <div class=\"ui form success\">\n//   <button className=\"ui button\" type=\"submit\">Login</button>\n//   </div>\n// </form>\n//     )\n// };\n\n\nexport default Login;","map":{"version":3,"sources":["/Users/isaiah/Desktop/IRON/client/src/components/Login.js"],"names":["React","Component","Axios","UserService","Link","Login","state","usernameInput","passwordInput","userService","handleChange","e","setState","target","name","value","handleFormSubmit","preventDefault","login","then","userFromDB","console","log","props","logTheUserIntoAppComponent","catch","err"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Axios from 'axios';\nimport UserService from '../service/UserService';\nimport {Link} from 'react-router-dom'\n\nclass Login extends Component {\n  state = { usernameInput: '', passwordInput: '' };\n  userService = new UserService();\n\n\nhandleChange = (e) =>{\n    this.setState({[e.target.name]: e.target.value})\n}\n\n\nhandleFormSubmit = (e) =>{\n    e.preventDefault();\n    // you could just do axios.post('http://localhost:5000/api/signup, {username: this.state.userNameInput, password: this.state.passWordInput}, {withCredentials: true})\n    this.userService.login(this.state.usernameInput, this.state.passwordInput)\n    .then((userFromDB)=>{\n        // here we wait for the API to give us the user object back after logging in\n        this.setState({usernameInput: '', passwordInput: ''})\n        \n        console.log(userFromDB)\n        // then we pass that user object back to app component\n        this.props.logTheUserIntoAppComponent(userFromDB)\n        // here, we are getting the user object from the DB\n        // and we're setting AppComponent.state.loggedinuser equal to it\n\n\n        //this.props.history.push('/project-index');\n        // then we redirect\n        \n\n\n    })\n    .catch((err)=>{\n        console.log('sorry something went wrong', err)\n\n    })\n\n}\n\nrender(){\n  return(\n    <div>\n        <form className=\"ui form\" onSubmit={this.handleFormSubmit}>\n        <div className=\"field\">\n          <label>Username</label>\n          <input type=\"text\" name=\"usernameInput\" value={this.state.usernameInput} onChange={ e => this.handleChange(e)}/>\n        </div>\n        <div className=\"field\"> \n          <label>Password</label>\n          <input type=\"password\" name=\"passwordInput\" value={this.state.passwordInput} onChange={ e => this.handleChange(e)}/>\n        </div>\n       \n\n        <div class=\"ui form success\">\n       \n        <button className=\"ui button\" type=\"submit\">Login</button>\n        </div>\n\n      </form>\n\n</div>\n  )\n}\n}\n\n\n\n// const Login = () => {\n//     return(\n        \n      //   <form className=\"ui form\" onSubmit={this.handleFormSubmit}>\n      //   <div className=\"field\">\n      //     <label>Username</label>\n      //     <input type=\"text\" name=\"usernameInput\" value={this.state.usernameInput} onChange={ e => this.handleChange(e)}/>\n      //   </div>\n      //   <div className=\"field\"> \n      //     <label>Password</label>\n      //     <input type=\"password\" name=\"passwordInput\" value={this.state.passwordInput} onChange={ e => this.handleChange(e)}/>\n      //   </div>\n       \n\n      //   <div class=\"ui form success\">\n       \n      //   <button className=\"ui button\" type=\"submit\">Login</button>\n      //   </div>\n\n      // </form>\n      \n//     )\n// };\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}