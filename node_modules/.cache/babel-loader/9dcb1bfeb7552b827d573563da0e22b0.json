{"ast":null,"code":"import _defineProperty from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/isaiah/Desktop/IRON/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/isaiah/Desktop/IRON/client/src/components/singleRestaurant.js\";\nimport React, { Component } from 'react';\nimport \"./App.css\";\nimport Axios from 'axios';\n\nvar SingleRestaurant =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SingleRestaurant, _Component);\n\n  function SingleRestaurant() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SingleRestaurant);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SingleRestaurant)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      nameInput: '',\n      descriptionInput: '',\n      locationInput: '',\n      foodType: '',\n      avgPrice: null,\n      rating: null,\n      review: [],\n      owner: null,\n      editing: false,\n      theActualProject: true\n    };\n\n    _this.updateInput = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.editProject = function (e) {\n      e.preventDefault();\n      Axios.post('http://localhost:5000/api/restaurants/edit/' + _this.state.theRestaurant._id, {\n        name: _this.state.nameInput,\n        description: _this.state.descriptionInput,\n        location: _this.state.locationInput,\n        foodType: _this.state.foodType,\n        avgPrice: _this.state.avgPrice\n      }).then(function () {\n        _this.setState({\n          editing: false\n        }); // after we submit the form and the Axios request is complete, we set this.state.editing\n        // back to false so that the form dissappears and looks all fancy\n\n      }).catch(function () {});\n    };\n\n    _this.toggleForm = function () {\n      _this.setState({\n        editing: true\n      });\n    };\n\n    _this.showProjectDetails = function () {\n      console.log(_assertThisInitialized(_assertThisInitialized(_this)));\n\n      if (_this.state.theActualProject) {\n        if (_this.state.editing) {\n          // if this.state.editing is set to true, we will show a form\n          return (// <form onSubmit={this.editProject}>\n            // <input className=\"input\" value={this.state.nameInput} onChange={this.updateInput} id=\"nameInput\"/>\n            // <input className=\"input\" value={this.state.descriptionInput} onChange={this.updateInput} id=\"descriptionInput\"/>\n            // <button>submit changes</button>\n            // </form>\n            React.createElement(\"form\", {\n              onSubmit: _this.editProject,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 86\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"ui form\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"field\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88\n              },\n              __self: this\n            }, React.createElement(\"label\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 89\n              },\n              __self: this\n            }, \"Restaurant\"), React.createElement(\"div\", {\n              className: \"fields\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 90\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"ten wide field\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 91\n              },\n              __self: this\n            }, React.createElement(\"input\", {\n              value: _this.state.nameInput,\n              id: \"nameInput\",\n              onChange: _this.updateInput,\n              placeholder: \"Name\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92\n              },\n              __self: this\n            })), React.createElement(\"div\", {\n              className: \"six wide field\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 94\n              },\n              __self: this\n            }, React.createElement(\"input\", {\n              value: _this.state.foodType,\n              id: \"foodType\",\n              onChange: _this.updateInput,\n              placeholder: \"Food Type\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 95\n              },\n              __self: this\n            })))), React.createElement(\"div\", {\n              className: \"fields\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 100\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"three wide field\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 102\n              },\n              __self: this\n            }, React.createElement(\"input\", {\n              type: \"number\",\n              placeholder: \"Avg Price\",\n              value: _this.state.avgPrice,\n              id: \"avgPrice\",\n              onChange: _this.updateInput,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 103\n              },\n              __self: this\n            })), React.createElement(\"div\", {\n              className: \"three wide field\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 105\n              },\n              __self: this\n            }, React.createElement(\"input\", {\n              type: \"number\",\n              placeholder: \"Rating\",\n              value: _this.state.rating,\n              id: \"foodType\",\n              onChange: _this.updateInput,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106\n              },\n              __self: this\n            }))), React.createElement(\"div\", {\n              className: \"field\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 110\n              },\n              __self: this\n            }, React.createElement(\"label\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 111\n              },\n              __self: this\n            }, \"Restaurant Address\"), React.createElement(\"input\", {\n              type: \"text\",\n              placeholder: \"Street Address\",\n              value: _this.state.locationInput,\n              onChange: _this.updateInput,\n              id: \"locationInput\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 112\n              },\n              __self: this\n            })), React.createElement(\"div\", {\n              className: \"field\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 115\n              },\n              __self: this\n            }, React.createElement(\"label\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 116\n              },\n              __self: this\n            }, \"Description\"), React.createElement(\"textarea\", {\n              rows: \"4\",\n              value: _this.state.descriptionInput,\n              id: \"descriptionInput\",\n              onChange: _this.updateInput,\n              placeholder: \"Describe the restaurant\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 117\n              },\n              __self: this\n            })), React.createElement(\"button\", {\n              className: \"positive ui button\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 119\n              },\n              __self: this\n            }, \"Submit\")))\n          );\n        } else {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, _this.state.nameInput), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, _assertThisInitialized(_assertThisInitialized(_this)), _this.state.descriptionInput), React.createElement(\"img\", {\n            onClick: _this.toggleForm,\n            className: \"pen-pic\",\n            src: \"https://us.123rf.com/450wm/jemastock/jemastock1707/jemastock170717063/82921914-stock-vector-school-pen-write-supply-accessory-icon-vector-illustration.jpg?ver=6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }));\n        }\n      }\n    };\n\n    _this.deleteProject = function () {\n      Axios.post('http://localhost:5000/api/restaurants/delete/' + _this.state.theActualProject._id, {}).then(function () {\n        _this.props.history.push('/project-index'); // this is how your redirect in react\n\n      }).catch(function () {});\n    };\n\n    return _this;\n  }\n\n  _createClass(SingleRestaurant, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var theID = this.props.match.params.id;\n      console.log(theID);\n      Axios.get('http://localhost:5000/api/restaurants/details/' + theID).then(function (response) {\n        console.log('------___---__-_-_--_-_-__-_-_-_-_-___-_-----', response);\n\n        _this2.setState({\n          theRestaurant: response.data,\n          nameInput: response.data.name,\n          descriptionInput: response.data.description,\n          locationInput: response.data.location,\n          foodType: response.data.foodType,\n          avgPrice: response.data.avgPrice,\n          rating: response.data.rating,\n          review: response.data.review,\n          owner: response.data.owner\n        });\n      }).catch(function () {});\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      console.log(this.state);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \" Project Details Page!\"), this.showProjectDetails(), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.deleteProject,\n        className: \"delete\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Delete This Project\")));\n    }\n  }]);\n\n  return SingleRestaurant;\n}(Component);\n\nexport default SingleRestaurant;","map":{"version":3,"sources":["/Users/isaiah/Desktop/IRON/client/src/components/singleRestaurant.js"],"names":["React","Component","Axios","SingleRestaurant","state","nameInput","descriptionInput","locationInput","foodType","avgPrice","rating","review","owner","editing","theActualProject","updateInput","e","setState","target","id","value","editProject","preventDefault","post","theRestaurant","_id","name","description","location","then","catch","toggleForm","showProjectDetails","console","log","deleteProject","props","history","push","theID","match","params","get","response","data"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport \"./App.css\";\nimport Axios from 'axios';\n\n\nclass SingleRestaurant extends Component{\n    state={\n        nameInput: '',\n        descriptionInput: '',\n        locationInput: '',\n        foodType: '',\n        avgPrice: null,\n        rating: null,\n        review: [],\n        owner: null,\n        editing: false,\n        theActualProject: true\n        \n    }\n\n    componentWillMount(){\n        const theID = this.props.match.params.id;\n        console.log(theID)\n        Axios.get('http://localhost:5000/api/restaurants/details/'+theID)\n        .then((response)=>{\n\n            console.log('------___---__-_-_--_-_-__-_-_-_-_-___-_-----',response)\n\n            this.setState({theRestaurant: response.data,\n                nameInput: response.data.name,\n                descriptionInput: response.data.description,\n                locationInput: response.data.location,\n                foodType: response.data.foodType,\n                avgPrice: response.data.avgPrice,\n                rating: response.data.rating,\n                review: response.data.review,\n                owner: response.data.owner\n            })\n        }).catch(()=>{\n        })\n    }\n\n    updateInput = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    editProject = (e) => {\n        e.preventDefault();\n\n        Axios.post('http://localhost:5000/api/restaurants/edit/'+this.state.theRestaurant._id, \n        {\n            name: this.state.nameInput, \n            description: this.state.descriptionInput, \n            location: this.state.locationInput, \n            foodType: this.state.foodType, \n            avgPrice: this.state.avgPrice,\n        })\n        .then(()=>{\n            this.setState({editing: false});\n            // after we submit the form and the Axios request is complete, we set this.state.editing\n            // back to false so that the form dissappears and looks all fancy\n        })\n        .catch(()=>{\n        })\n    }\n\n    toggleForm = () =>{\n        this.setState({editing: true})\n    }\n\n    showProjectDetails = () =>{\n        console.log(this)\n       if(this.state.theActualProject){\n            if(this.state.editing){\n                // if this.state.editing is set to true, we will show a form\n\n                return(\n                    // <form onSubmit={this.editProject}>\n                    // <input className=\"input\" value={this.state.nameInput} onChange={this.updateInput} id=\"nameInput\"/>\n                    // <input className=\"input\" value={this.state.descriptionInput} onChange={this.updateInput} id=\"descriptionInput\"/>\n                    // <button>submit changes</button>\n                    // </form>\n\n                 <form onSubmit={this.editProject}>\n                    <div className=\"ui form\">\n                        <div className=\"field\">\n                            <label>Restaurant</label>\n                            <div className=\"fields\">\n                                <div className=\"ten wide field\">\n                                    <input value={this.state.nameInput} id=\"nameInput\" onChange={this.updateInput} placeholder=\"Name\"/>\n                                </div>\n                                <div className=\"six wide field\">\n                                <input value={this.state.foodType} id=\"foodType\" onChange={this.updateInput} placeholder=\"Food Type\"/>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"fields\">\n                        \n                        <div className=\"three wide field\">\n                        <input type=\"number\" placeholder=\"Avg Price\" value={this.state.avgPrice} id=\"avgPrice\" onChange={this.updateInput}/>\n                        </div>\n                        <div className=\"three wide field\">\n                        <input type=\"number\" placeholder=\"Rating\" value={this.state.rating} id=\"foodType\" onChange={this.updateInput}/>\n                        </div>\n                        </div>\n                        \n                        <div className=\"field\">\n                        <label>Restaurant Address</label>\n                        <input type=\"text\" placeholder=\"Street Address\" value={this.state.locationInput} onChange={this.updateInput} id=\"locationInput\"/>\n                        </div>\n                        \n                        <div className=\"field\">\n                            <label>Description</label>\n                            <textarea rows=\"4\" value={this.state.descriptionInput} id=\"descriptionInput\" onChange={this.updateInput} placeholder=\"Describe the restaurant\"></textarea>\n                        </div>\n                        <button className=\"positive ui button\">Submit</button>\n                    </div>\n                </form>\n\n\n\n            )\n\n        }  else{\n\n            return(\n                <div>\n                    <span>\n                    {this.state.nameInput}\n                    </span>\n\n                    <span>\n                        {this}\n                        {this.state.descriptionInput}\n                    </span>\n                    {/* we put this little image of a pen here, and add an on click function */}\n                    {/* the on click function changes this.state.editing to true */}\n                    {/*  therefore, when we change this.state.editing to true, we show a form instead of just the info */}\n                    <img onClick={this.toggleForm} className=\"pen-pic\" src=\"https://us.123rf.com/450wm/jemastock/jemastock1707/jemastock170717063/82921914-stock-vector-school-pen-write-supply-accessory-icon-vector-illustration.jpg?ver=6\"/>\n                </div>\n            )\n        }\n        }\n    }\n\n    deleteProject = () =>{\n        Axios.post('http://localhost:5000/api/restaurants/delete/'+this.state.theActualProject._id, {})\n        .then(()=>{\n            \n            this.props.history.push('/project-index');\n            // this is how your redirect in react\n        })\n        .catch(()=>{\n\n        })\n    }\n\n    render(){\n        console.log(this.props)\n        console.log(this.state)\n        return(\n            <div>\n                <h1> Project Details Page!</h1>\n                {this.showProjectDetails()}\n\n                <br />\n                <br />\n                <br />\n                <br />\n            <div>\n                <button onClick={this.deleteProject} className=\"delete\">Delete This Project</button>\n            </div>\n                </div>\n        )\n    }\n}\n\nexport default SingleRestaurant;"]},"metadata":{},"sourceType":"module"}